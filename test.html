<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css">
</head>

<body>
    <input id="ES5-dataGrab-input" type="text" value="eor" />

    <div id="ES5-dataGrab"></div>



</body>
<script>

    var oInput = document.getElementById("ES5-dataGrab-input");
    var oDiv = document.getElementById('ES5-dataGrab');

    var oData = {
        value: ''
    };
    oInput.oninput = function () {
        console.log(this)
        oData.value = this.value;
    }

    function upData() {
        oDiv.innerText = oData.value;
    }

    upData();

    // 监听对象的某个属性是否发生改变
    function Observer(data) {
        // 数据为空或不是对象，就没有监控的意义了
        if (!data || typeof data != "object") {
            return data;
        }
        Object.keys(data).forEach(function (key) {
            definedRective(data, key, data[key]);
        });
    }

    function definedRective(data, key, val) {
        // AO 保存了运行环境，形成闭包，保留 val 值
        Object.defineProperty(data, key, {
            get() {
                return val;
            },
            set(newValue) {
                if (newValue == val) { return };
                val = newValue;
                upData();
            }
        })
    }

    Observer(oData);

    console.log(oData.value)

</script>

</html>